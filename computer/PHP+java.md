php作为前端有无可比拟的优势，简单易学、容易发布，程序员也好找。而作为复杂业务就问题多了，不能保持状态，不支持pool。而这点恰恰是Java的优势，如果前端用php编码，业务用java写，就可以互补。

php和java之间通信，可以采用rpc，比如thrift，java作为服务端，php作为客户端。

这样带来一个问题，为了解决高可用性问题，必然部署多台服务端，那么php如何得知后端有哪些Server存活呢？

这个可以用zookeeper对后端server进行管理，这样php每次需要访问后端，就需要得到当前的后端服务器列表，每次去zookeeper刷显然不可能，但php自己又不能实现一个watcher来监听。这个可以用java写一个thrift服务，用来watche zookeeper，并保存当前所有可用的服务器。这个服务安装到每一台php server上，php通过localhost访问本地的java服务，获取到服务列表，然后再根据服务列表调用其他服务器的服务。由于localhost访问速度及其快，对性能上应该影响不大。这个服务又很通用，基本上java写一次启动后就不用再更新。
